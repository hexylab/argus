# ワークフロー UI 改善 - サイドバーナビゲーション計画書

Issue: #79

## 概要

プロジェクトページにサイドバーナビゲーションを追加し、ワークフローの全体像を把握しやすくする。

## 現状分析

### 現在のナビゲーション
- プロジェクトページのヘッダー右側にボタンナビゲーション（レビュー、検索、エクスポート、設定）
- 各サブページに「戻る」ボタン
- パンくずナビゲーション

### 問題点
- ワークフローの進捗が不明瞭
- 各ステージ間の関係性が分かりにくい
- 次のアクションが曖昧

## 実装計画

### 1. WorkflowSidebar コンポーネント作成

**ファイル**: `frontend/src/components/workflow-sidebar.tsx`

**機能**:
- ワークフローステップの一覧表示（データ → 検索 → レビュー → エクスポート）
- 現在位置のハイライト
- 各ステップへのナビゲーションリンク
- 折り畳み可能（レスポンシブ対応）

**ワークフローステップ**:
1. **データ**: `/projects/{id}` - 映像/データのインポート管理
2. **検索**: `/projects/{id}/search` - フレーム検索・自動アノテーション
3. **レビュー**: `/projects/{id}/review` - アノテーションの確認・承認
4. **エクスポート**: `/projects/{id}/export` - データ出力
5. **設定**: `/projects/{id}/settings` - プロジェクト設定

### 2. ProjectLayout コンポーネント作成

**ファイル**: `frontend/src/app/(protected)/projects/[id]/layout.tsx`

**構造**:
```
┌────────────────────────────────────────────────────┐
│ サイドバー (w-64) │ メインコンテンツ (flex-1)      │
│ - ワークフロー    │ - パンくず                     │
│   ステップ        │ - ページヘッダー               │
│ - 現在位置表示    │ - コンテンツ                   │
└────────────────────────────────────────────────────┘
```

### 3. レスポンシブ対応

- **デスクトップ**: 固定サイドバー
- **モバイル**: 折り畳みメニュー（ハンバーガーアイコン）
- **ダークモード**: 既存のCSS変数を使用

### 4. 既存ページの更新

各ページから以下を削除/調整:
- ヘッダー右側のナビゲーションボタン（サイドバーに移動）
- 「戻る」ボタン（サイドバーで代替）

## 実装ファイル一覧

| ファイル | 操作 | 説明 |
|---------|------|------|
| `frontend/src/components/workflow-sidebar.tsx` | 新規作成 | ワークフローサイドバー |
| `frontend/src/app/(protected)/projects/[id]/layout.tsx` | 新規作成 | プロジェクト共通レイアウト |
| `frontend/src/app/(protected)/projects/[id]/page.tsx` | 修正 | ナビボタン削除 |
| `frontend/src/app/(protected)/projects/[id]/review/page.tsx` | 修正 | 戻るボタン削除 |
| `frontend/src/app/(protected)/projects/[id]/search/page.tsx` | 修正 | 軽微な調整 |
| `frontend/src/app/(protected)/projects/[id]/export/page.tsx` | 修正 | 戻るボタン削除 |
| `frontend/src/app/(protected)/projects/[id]/settings/page.tsx` | 修正 | 戻るボタン削除 |

## テスト計画

1. 各ページでサイドバーが表示されること
2. 現在位置が正しくハイライトされること
3. ナビゲーションが正常に動作すること
4. レスポンシブ対応（画面幅に応じた表示切替）
5. ダークモード対応

## 成功基準

- すべてのステップがサイドバーからアクセス可能
- 現在位置がハイライト表示される
- 進捗状況が一目で分かる
- 次のアクションが明確に示される
